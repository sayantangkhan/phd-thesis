\usepackage{setspace} %gives \singlespacing and \doublespacing
\usepackage{titlesec, titletoc} %controls the format of title chapters and the table of contents.
\usepackage{url} % allow hyperlink in reference
\singlespacing %change this to \doublespacing if you want your thesis double spaced

\usepackage{datetime}
\usepackage{graphicx}
\usepackage{mathtools}
\usepackage{tikz}
\usepackage{tikz-cd}
\usepackage{marginnote}
\usepackage{amsmath, amsfonts, amssymb, amsthm}
\usepackage{mathrsfs}
\usepackage{bbm}
\usepackage{hyperref}
% \usepackage{thmtools}
% \usepackage{thm-restate}

% \usepackage{ulem} %% For strikeouts
% \usepackage{showlabels}
\hypersetup{
  colorlinks   = true, %Colours links instead of ugly boxes
  urlcolor     = blue, %Colour for external hyperlinks
  linkcolor    = blue, %Colour of internal links
  citecolor   = blue %Colour of citations
}

% Bibliography related
\usepackage[
            hyperref=true,
            url=false,
            isbn=false,
            backref=true,
            style=alphabetic,
            maxalphanames=7,
            maxbibnames=99,
            maxcitenames=4,
            giveninits=true,
            block=none
]{biblatex}
\addbibresource{references.bib}

% To refer to theorems that appear later
\newtheorem*{rep@theorem}{\rep@title}
\newcommand{\newreptheorem}[2]{%
\newenvironment{rep#1}[1]{%
 \def\rep@title{#2 \ref{##1}}%
 \begin{rep@theorem}}%
 {\end{rep@theorem}}}

% Only sections appear in TOC
\setcounter{tocdepth}{2}

\newtheorem{theorem}{Theorem}[section]
\newreptheorem{theorem}{Theorem}
\newtheorem*{untheorem}{Theorem}

\newtheorem{lemma}[theorem]{Lemma}

\newtheorem{claim}[theorem]{Claim}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{conjecture}[theorem]{Conjecture}

\theoremstyle{definition}
\newtheorem{example}[theorem]{Example}
\newtheorem*{fact}{Fact}

\theoremstyle{definition}
\newtheorem{question}[theorem]{Question}
\newtheorem*{unquestion}{Question}

\theoremstyle{remark}
\newtheorem*{remark}{Remark}
\newtheorem*{claim*}{Claim}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}

\newtheorem{manualtheoreminner}{Theorem}
\newenvironment{manualtheorem}[1]{%
  \renewcommand\themanualtheoreminner{#1}%
  \manualtheoreminner
}{\endmanualtheoreminner}

\usepackage[margin=1in,marginparwidth=50pt,letterpaper]{geometry}

\usepackage{enumerate}
\usepackage{xcolor}

\usepackage{import}
\usepackage{xifthen}
\usepackage{pdfpages}
\usepackage{transparent}

\usepackage[textsize=tiny,textwidth=20mm]{todonotes}
\newcommand{\marginremark}[3][]{\todo[#2,color=blue!40]{#1: #3}}

\newcommand*{\incfig}[2][1]{%
    \def\svgscale{#1}
    \import{./images/}{#2.pdf_tex}
}

% To be uncommented if we need autorefnames
% \def\sectionautorefname{Section}
% \def\thmautorefname{Theorem}
% \def\lemautorefname{Lemma}

%% this code removes 0 subsection numbers
%% so you get Definition 1.1 instead of Definition 1.0.1
\makeatletter
\renewcommand{\thesubsection}{%
  \ifnum\c@subsection<1 \@arabic\c@section
  \else \thesection.\@arabic\c@subsection
  \fi
}
\makeatother


\newcommand{\nfl}[1]{\mathcal{NFL_{#1}}}
\newcommand{\mcg}{\mathrm{MCG}}
\newcommand{\os}{\mathcal{S}}
\newcommand{\no}{\mathcal{N}}
\newcommand{\teich}{\mathcal{T}}
\newcommand{\mo}{\mathcal{M}}
\newcommand{\ol}[1]{\overline{#1}}
\newcommand{\stab}[1]{\mathrm{Stab}(#1)}
\newcommand{\fd}[1]{\mathrm{FD}_{#1}}
\newcommand{\cC}{\mathcal{C}}
\newcommand{\cU}{\mathcal{U}}
\newcommand{\cZ}{\mathcal{Z}}
\newcommand{\hNP}{h_{\mathrm{NP}}}
\newcommand{\hLP}{h_{\mathrm{LP}}}
\newcommand{\hLPb}{h_{\mathrm{LP}}^c}
\newcommand{\HH}{\mathbb{H}}
\newcommand{\dcomp}{d_{\mathrm{comp}}}
\newcommand{\wt}{\widetilde}
\newcommand{\systole}{\teich_{\vept}^{-}}
\newcommand{\thick}{\teich_{\vept}^{\pm}}
\newcommand{\thickarg}[1]{\teich_{#1}^{\pm}}
\newcommand{\systolearg}[1]{\teich_{#1}^{-}}
\newcommand{\flm}{f_{\mathrm{FLM}}}
\newcommand{\pml}{\mathbb{P}\mathcal{ML}}

% new \oset macro
\makeatletter
\newcommand{\oset}[3][0ex]{%
  \mathrel{\mathop{#3}\limits^{
    \vbox to#1{\kern-2\ex@
    \hbox{$\scriptstyle#2$}\vss}}}}
\makeatother

%\newcommand{\emul}{\stackrel{{}_\ast}{\asymp}}
%\newcommand{\gmul}{\stackrel{{}_\ast}{\succ}}
%\newcommand{\lmul}{\stackrel{{}_\ast}{\prec}}
%\newcommand{\eadd}{\stackrel{{}_+}{\asymp}}
%\newcommand{\gadd}{\stackrel{{}_+}{\succ}}
%\newcommand{\ladd}{\stackrel{{}_+}{\prec}}
\newcommand{\emul}{\oset{\cdot}{\asymp}}
\newcommand{\gmul}{\oset{\cdot}{\succ}}
\newcommand{\lmul}{\oset{\cdot}{\prec}}
\newcommand{\eadd}{\oset{+}{\asymp}}
\newcommand{\gadd}{\oset{+}{\succ}}

\newcommand{\colsup}[2]{\overline{#1}^{#2}}

% The various epsilons
\newcommand{\vepb}{\varepsilon_b}
\newcommand{\vepn}{\varepsilon_n}
\newcommand{\vept}{\varepsilon_t}
\newcommand{\vepd}{\varepsilon_d}
\newcommand{\veperr}{\varepsilon_{\mathrm{err}}}
\newcommand{\vepent}{\varepsilon_{\mathrm{ent}}}

% Symbol for net
\newcommand{\net}{\mathfrak{N}}

% Macro for core
\newcommand{\core}{\mathrm{core}}
\newcommand{\coret}[1]{\core(\teich(#1))}

\newcommand{\traj}{\mathcal{P}}
\newcommand{\trajnc}{\widetilde{\mathcal{P}}}

% Macro for concave
\newcommand{\concave}{concave }
\newcommand{\Concave}{Concave }

%% Symbols from the first paper

\newcommand{\pmf}{\mathbb{P}\mathcal{MF}}
\newcommand{\mg}{\mathcal{M}}
\newcommand{\scc}{\mathscr{S}}
\newcommand{\mf}{\mathcal{MF}}
\newcommand{\QQ}{\mathbb{Q}}
\newcommand{\dynlim}{\Lambda_{\mathrm{dyn}}}
\newcommand{\geolim}{\Lambda_{\mathrm{geo}}}
\newcommand{\expansion}{\mathrm{Sat}}
\newcommand{\dd}{\mathrm{\,d}}
\newcommand{\lhyp}{\ell_{\mathrm{hyp}}}
\newcommand{\lflat}{\ell_{\mathrm{flat}}}
\newcommand{\norm}[1]{\left\lVert#1\right\rVert}